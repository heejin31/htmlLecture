<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Untitled Document</title>
<link rel="stylesheet" href="http://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
<style>
	ul{
		list-style:none;
		margin:0;
		padding:0;
		max-width: 1000px;
		margin: 0 auto;
		display: flex;
		justify-content: center;
	}
	ul li{
		width: 120px;
		cursor:pointer;
	}
</style>
<script type="text/javascript" src="js/jquery-1.9.1.min.js"></script>
<script type="text/javascript">
	$(document).ready(
		function(){
				/*
				ul을 가지고 있는 li에 스타일을 지정하시오(배경색지정)
				$("li").has("ul").css("background","gray");
				*/
				$("li").has("ul").children("ul").before("<i class='ion-arrow-down-b'></i>");
				$("li").has("ul").children("ul").hide();

				//ul을 가지고 있는 li를 클릭하면 실행하시오(클릭한li의 ul을 slideToggle하시오)
				var a=0;
				var cu=1;
				console.log("a의 초기값 :"+a);
				$("li").has("ul").click(
						function(){
							$(this).children("ul").slideToggle();
							$(this).siblings().children("ul").slideUp();
							
							if(a==0 || a==cu){ // == 비교연산자 같다 a의 값이 0과 같다
								                 // || 또는 or 논리연산자
								$(this).children("i").attr("class","ion-arrow-up-b"); // attr();대상의 속성값을 변경해라
								a=1;
								cu=0;
								console.log("if"+a+":"+cu);
								// alert(1);
							}else if(a==1 || a!=cu){
								$(this).children("i").attr("class","ion-arrow-down-b");
								a=0;
								cu=1;
								console.log("else if"+a+":"+cu);
							}else{
								// alert(2);
								$(this).children("i").attr("class","ion-arrow-up-b");
								a=0;
								cu=0;
								console.log("else"+a+":"+cu);
							}
							cu=$(this).attr("data-n");
							$(this).siblings().children("i").attr("class","ion-arrow-down-b");
							
						}
				);
		}
	);
</script>
</head>

<body>
	<div id="container">
		<ul>
			<li data-n="0">1
				<ul>
					<li>1-1</li>
					<li>1-2</li>
					<li>1-3</li>
				</ul>
			</li>
			<li>2</li>
			<li data-n="0">3
				<ul>
					<li>3-1</li>
					<li>3-2</li>
				</ul>
			</li>
			<li data-n="0">4
				<ul>
					<li>4-1</li>
					<li>4-2</li>
				</ul>
			</li>
		</ul>
	</div>

</body>
</html>
