<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>갤러리</title>
	<style type="text/css">
		*{
			margin:0;
			padding:0;
			}
		ul{
			list-style:none;
			}
		div{
			width:960px;
			height:640px;
			border:2px solid gray;
			margin:90px auto 0;
			position:relative;
			overflow:hidden;
			border-radius:7px;
			box-shadow:7px 7px 15px #CCC;
			}
			div>ul:first-child{
				position:absolute;
				width:960px;
				}
				div>ul:first-child>li{
					width:960px;
					height:640px;
					line-height:240px;
					text-align:center;
					position: absolute;
					left:0;
					top:0;
					}
					div>ul:first-child>li h2{
						position:absolute;
						left:40px;
						line-height:1em;
						background:#F90;
						color:#FFF;
						padding:4px 10px;
						border-radius:0 0 7px 7px;
						}
			div ul.list{
				z-index:12;
				margin:600px auto 0;
				text-align:center;
				position:relative;
				}
				div ul.list li{
					display:inline-block;
					margin:3px;
					padding:7px;
					background:#999;
					color:#FFF;
					}
			div a[href="#1"]{
				text-decoration:none;
				position:absolute;
				left:0;
				top:320px;
				background:#FC0;
				border-radius:0 7px 7px 0;
				padding:3px;
				}	
			div a[href="#2"]{
				text-decoration:none;
				position:absolute;
				right:0;
				top:320px;
				background:#FC0;
				border-radius:7px 0 0 7px;
				padding:3px;
				}
				.current{
					background:#FC0 !important;
					color:#333 !important;
					}
				.top{
					z-index:1;
					}
				a{
					z-index:1;
					}
	</style>
	<script src="js/jquery-1.6.2.min.js"></script>
	<script type="text/javascript">
		$(document).ready(
			function(){
				$("a[href='#1']").hide();
				var n=1;
				$('ul.list li'+'.'+'num'+n).addClass("current");
				$("ul:first-child li h2").css("opacity","0");
				$("ul:first-child li.pic"+n+" h2").animate({"opacity":"1"},500);
				
				//첫번째이미지가 제일 위에 오게..
				$("ul:first-child li.pic"+n).addClass("top");
				//처음이미지를 제외한 나머지이미지를 투명하게;
				$("ul:first-child li.pic"+n).siblings().css("opacity","0");
				
				$("a[href='#1']").click(
					function(){
						n-=1
						$("ul:first-child li.pic"+n).addClass("top").animate({"opacity":"1"},1000,"easeOutSine",function(){
								$("ul:first-child li.pic"+n+" h2").animate({"opacity":"1"},500);
								$("ul:first-child li.pic"+n).siblings().children("h2").animate({"opacity":"0"},500);
							});
						$("ul:first-child li.pic"+n).siblings().removeClass("top").css("opacity","0");	
						
						if(n==1){
							$("a[href='#1']").hide();
							$("a[href='#2']").show();
						}else{
							$("a[href='#1']").show();
							$("a[href='#2']").show();
							}
							
						$('ul.list li'+'.'+'num'+n).addClass("current");
						$('ul.list li'+'.'+'num'+n).siblings().removeClass("current");

					}
				);
				// 다음보기 시작 ---
				$("a[href='#2']").click(
					function(){
						n+=1;
						$("ul:first-child li.pic"+n).addClass("top").animate({"opacity":"1"},1000,"easeOutSine",function(){
								$("ul:first-child li.pic"+n+" h2").animate({"opacity":"1"},500);
								$("ul:first-child li.pic"+n).siblings().children("h2").animate({"opacity":"0"},500);
							});
						$("ul:first-child li.pic"+n).siblings().removeClass("top").css("opacity","0");
						
						if(n==1){
							$("a[href='#1']").hide();
						}else{
							$("a[href='#1']").show();
							}
						if(n==4){
							$("a[href='#2']").hide();
							}
						
						$("ul.list li.num"+n).addClass("current");
						$('ul.list li.num'+n).siblings().removeClass("current");
						
					}
				);
				// 다음보기 끝 ----------------
				
				// 1번클릭 시작 -----
				$("ul.list li.num1").click(
					function(){
						n=1;
						$("ul:first-child").animate({"left":"0"},1000,"easeOutSine",function(){
								$("ul:first-child li.pic"+n+" h2").animate({"opacity":"1"},500);
								$("ul:first-child li.pic"+n).siblings().children("h2").animate({"opacity":"0"},500);
							});
						
						if(n==1){
							$("a[href='#1']").hide();
						}else{
							$("a[href='#1']").show();
							}
						if(n==4){
							$("a[href='#2']").hide();
							}
						
						$("ul.list li.num"+n).addClass("current");
						$('ul.list li.num'+n).siblings().removeClass("current");
					}
				);
				// 1번클릭 끝 -----
				
				// 2번클릭 시작 -----
				$("ul.list li.num2").click(
					function(){
						n=2;
						$("ul:first-child").animate({"left":"-960px"},1000,"easeOutSine",function(){
								$("ul:first-child li.pic"+n+" h2").animate({"opacity":"1"},500);
								$("ul:first-child li.pic"+n).siblings().children("h2").animate({"opacity":"0"},500);
							});
						
						if(n==1){
							$("a[href='#1']").hide();
						}else{
							$("a[href='#1']").show();
							$("a[href='#2']").show();
							}
						if(n==4){
							$("a[href='#2']").hide();
							}
						
						$("ul.list li.num"+n).addClass("current");
						$('ul.list li.num'+n).siblings().removeClass("current");
					}
				);
				// 2번클릭 끝 -----
				// 3번클릭 시작 -----
				$("ul.list li.num3").click(
					function(){
						n=3;
						$("ul:first-child").animate({"left":"-1920px"},1000,"easeOutSine",function(){
								$("ul:first-child li.pic"+n+" h2").animate({"opacity":"1"},500);
								$("ul:first-child li.pic"+n).siblings().children("h2").animate({"opacity":"0"},500);
							});
						
						if(n==1){
							$("a[href='#1']").hide();
						}else{
							$("a[href='#1']").show();
							$("a[href='#2']").show();
							}
						if(n==4){
							$("a[href='#2']").hide();
							}
						
						$("ul.list li.num"+n).addClass("current");
						$('ul.list li.num'+n).siblings().removeClass("current");
					}
				);
				// 3번클릭 끝 -----
				
				// 4번클릭 시작 -----
				$("ul.list li.num4").click(
					function(){
						n=4;
						$("ul:first-child").animate({"left":"-2880px"},1000,"easeOutSine",function(){
								$("ul:first-child li.pic"+n+" h2").animate({"opacity":"1"},500);
								$("ul:first-child li.pic"+n).siblings().children("h2").animate({"opacity":"0"},500);
							});
						
						if(n==1){
							$("a[href='#1']").hide();
						}else{
							$("a[href='#1']").show();
							}
						if(n==4){
							$("a[href='#2']").hide();
							}
						
						$("ul.list li.num"+n).addClass("current");
						$('ul.list li.num'+n).siblings().removeClass("current");
					}
				);
				// 4번클릭 끝 -----
			}
				
		);
	</script>
	<script src="easing/jquery.easing.1.3.js"></script>
	<script src="easing/jquery.easing.compatibility.js"></script>
</head>

<body>
	<div class="pro">
        <ul>
            <li class="pic1">
				<h2>작품1</h2>
				<img src="img/p1.jpg">
			</li>
            <li class="pic2">
				<h2>작품2</h2>
				<img src="img/p2.jpg" onfocus="this.blur()">
			</li>
            <li class="pic3">
				<h2>작품3</h2>
				<img src="img/p3.jpg">
			</li>
            <li class="pic4">
				<h2>작품4</h2>
				<img src="img/p4.jpg">
			</li>
        </ul>
		<ul class="list">
			<li class="num1">1</li>
			<li class="num2">2</li>
			<li class="num3">3</li>
			<li class="num4">4</li>
		</ul>
        <a href="#1">이전</a><a href="#2">이후</a>
    </div>
</body>
</html>
