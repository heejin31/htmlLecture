<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>갤러리</title>
	<style type="text/css">
		*{
			margin:0;
			padding:0;
			}
		ul{
			list-style:none;
			}
		div{
			width:960px;
			height:640px;
			border:2px solid gray;
			margin:90px auto 0;
			position:relative;
			overflow:hidden;
			border-radius:7px;
			box-shadow:7px 7px 15px #CCC;
			}
			div>ul:first-child{
				position:absolute;
				width:960px;
				z-index:1;
				}
				div>ul:first-child>li{
					position:absolute;
					width:960px;
					height:640px;
					line-height:240px;
					text-align:center;
					}
				.zz{
					z-index:1;
					}
			div ul.list{
				z-index:12;
				margin:600px auto 0;
				text-align:center;
				position:relative;
				}
				div ul.list li{
					display:inline-block;
					margin:3px;
					padding:7px;
					background:#999;
					color:#FFF;
					}
			div a[href="#1"]{
				text-decoration:none;
				position:absolute;
				left:0;
				top:320px;
				background:#FC0;
				border-radius:0 7px 7px 0;
				padding:3px;
				z-index:3;
				}	
			div a[href="#2"]{
				text-decoration:none;
				position:absolute;
				right:0;
				top:320px;
				background:#FC0;
				border-radius:7px 0 0 7px;
				padding:3px;
				z-index:3;
				}
				.current{
					background:#FC0 !important;
					color:#333 !important;
					}
	</style>
	<script src="js/jquery-1.6.2.min.js"></script>
	<script type="text/javascript">
		$(document).ready(
			function(){
				$("a[href='#1']").hide(); //이전버튼 감추기
				var n=1; //이전,이후버튼 클릭시 사용될 변수
				
				$("ul.list li"+"."+"num"+n).addClass("current"); // 1,2,3,4표시에서 현재번호에 배경색지정
				// -> ul.list li.num1이 됨
				$("ul:first-child li"+"."+"num"+n).addClass("zz"); //첫번째li이미지를 제일 위로 오게처리
				$("ul:first-child li"+"."+"num"+n).siblings().css("opacity",0);
				//첫번째li이미지를 제외한 나머지를 투명하게 처리
				
				$("a[href='#1']").click( //이전버튼클릭시 작동
					function(){
						n-=1 //n값을 1씩 빼라 n=n-1과 동일
						$("ul:first-child li"+"."+"num"+n).addClass("zz").css("opacity","0").animate({"opacity":1},1000,"easeOutSine");
						//
						$("ul:first-child li"+"."+"num"+n).siblings().removeClass("zz").css("opacity","0");
						
						if(n==1){
							$("a[href='#1']").hide();
							$("a[href='#2']").show();
						}else{
							$("a[href='#1']").show();
							$("a[href='#2']").show();
							}
							
						$('ul.list li'+'.'+'num'+n).addClass("current");
						$('ul.list li'+'.'+'num'+n).siblings().removeClass("current");

					}
				);
				$("a[href='#2']").click(//다음버튼 클릭
					function(){
						
						n+=1; //n값을 1씩 증가
						$("ul:first-child li"+"."+"num"+n).addClass("zz").css("opacity","0").animate({"opacity":"1"},1000,"easeOutSine");
						//증가된n에 해당하는 li이미지에 높이값을 1로 지정하고 투명하게처리후
						// 다시 불투명하게 애니메이트시킴

						$("ul:first-child li"+"."+"num"+n).siblings().removeClass("zz")
						// 다른li이미지는 높이값을 원래대로 위치시킴

						if(n==1){
							$("a[href='#1']").hide();
						}else{
							$("a[href='#1']").show();
							}
						if(n==4){
							$("a[href='#2']").hide();
							}
						
						$("ul.list li"+"."+"num"+n).addClass("current");
						$('ul.list li'+'.'+'num'+n).siblings().removeClass("current");

					}
				);
			}
		);
	</script>
	<script src="easing/jquery.easing.1.3.js"></script>
	<script src="easing/jquery.easing.compatibility.js"></script>
</head>

<body>
	<div class="pro">
        <ul>
            <li class="num1"><img src="img/p1.jpg" alt="그림1"></li>
            <li class="num2"><img src="img/p2.jpg" alt="그림2"></li>
            <li class="num3"><img src="img/p3.jpg" alt="그림3"></li>
            <li class="num4"><img src="img/p4.jpg" alt="그림4"></li>
        </ul>
		<ul class="list">
			<li class="num1">1</li>
			<li class="num2">2</li>
			<li class="num3">3</li>
			<li class="num4">4</li>
		</ul>
        <a href="#1">이전</a><a href="#2">이후</a>
    </div>
</body>
</html>
